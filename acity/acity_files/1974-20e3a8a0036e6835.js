(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1974],{21974:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r);var n=Object.getOwnPropertyDescriptor(t,r);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,s,n)}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationClient=t.SessionManager=t.CalimacoClient=void 0,n(r(34098),t),n(r(95367),t),n(r(90772),t),n(r(30503),t),n(r(16460),t),n(r(5373),t);let i=o(r(34098));t.CalimacoClient=i.default;let a=o(r(34098));t.NotificationClient=a.default;let c=o(r(95367));t.SessionManager=c.default},34098:function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(s.next(e))}catch(e){o(e)}}function rejected(e){try{step(s.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});let n=r(55994);t.default=class{constructor(e){this.axiosConfigURLEncoded={headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Access-Control-Allow-Origin":"*"}},this.cfg=e}post(e,t){return new Promise(function(r,s){try{n.post(e,t,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(e=>{void 0!==e.data?r(e.data):r(e)}).catch(e=>{console.log("Error in post "+e.response.data+" "+e.response.statusText),s(e)})}catch(e){console.log("err = "+e)}})}getShops(e){let t="company="+this.cfg.company;return void 0!==e&&(t+="&ubigeo="+e),this.post(this.cfg.urls.contentsURL+"/getShops",t)}getCountries(){let e="company="+this.cfg.company;return this.post(this.cfg.urls.contentsURL+"/getCountries",e)}getStates(e){return this.post(this.cfg.urls.contentsURL+"/getStates","country="+e)}getProvinces(e,t){return this.post(this.cfg.urls.contentsURL+"/getProvinces","country="+e+"&state="+t)}getCities(e,t,r){return this.post(this.cfg.urls.contentsURL+"/getCities","country="+e+"&state="+t+"&province="+r)}getShopStates(e){let t="country="+e+"&company="+this.cfg.company;return this.post(this.cfg.urls.contentsURL+"/getShopStates",t)}getShopProvinces(e,t){let r="country="+e+"&state="+t+"&company="+this.cfg.company;return this.post(this.cfg.urls.contentsURL+"/getShopProvinces",r)}getShopCities(e,t,r){let s="country="+e+"&state="+t+"&province="+r+"&company="+this.cfg.company;return this.post(this.cfg.urls.contentsURL+"/getShopCities",s)}getLobby(e,t=JSON.stringify({init:0,end:20}),r=JSON.stringify({providers:"",tags:"",favourites:!1}),s){let n="company="+this.cfg.company+"&lobby="+e;return n+="&limits="+t+"&filter="+r,void 0!==s&&(n+="&session="+s),this.post(this.cfg.urls.contentsURL+"/getLobby",n)}getMachineByName(e,t,r){let s="company="+this.cfg.company+"&provider="+e+"&name="+t.replace("&","<amp>");return null!=r&&(s+="&session="+r),this.post(this.cfg.urls.contentsURL+"/getMachineByName",s)}getRegisterSelectablesPromotions(){let e="company="+this.cfg.company;return this.post(this.cfg.urls.contentsURL+"/getRegisterSelectablesPromotions",e)}getUserAccounts(e){let t="company="+this.cfg.company;return t+="&session="+e,this.post(this.cfg.urls.dataURL+"/getUserAccounts",t)}saveUserConsent(e,t,r){let s="company="+this.cfg.company;return s+="&session="+e+"&consent="+t,r?s+="&agree=1":s+="&agree=0",this.post(this.cfg.urls.dataURL+"/saveUserConsent",s)}getUserConsents(e){let t="company="+this.cfg.company;return t+="&session="+e,this.post(this.cfg.urls.dataURL+"/getUserConsents",t)}getUserPaymentAccounts(e){let t="company="+this.cfg.company;return t+="&session="+e,this.post(this.cfg.urls.dataURL+"/getUserPaymentAccounts",t)}addUserPaymentAccount(e,t){let r="company="+this.cfg.company;return r+="&session="+e+"&payment_account="+JSON.stringify(t),this.post(this.cfg.urls.dataURL+"/addUserPaymentAccount",r)}updateUserAccounts(e,t,r,s){let n="company="+this.cfg.company;return n+="&session="+e+"&account="+t+"&currency="+r+"&active="+s,this.post(this.cfg.urls.dataURL+"/updateUserAccounts",n)}claimCodePromotion(e,t){let r="company="+this.cfg.company;return r+="&session="+e+"&code="+t,this.post(this.cfg.urls.dataURL+"/claimCodePromotion",r)}getOperationsHistory(e,t=JSON.stringify({init:0,end:20}),r){let s="company="+this.cfg.company;return s+="&session="+e+"&limits="+t+"&filter="+JSON.stringify(r),this.post(this.cfg.urls.dataURL+"/getOperationsHistory",s)}getTransactionsHistory(e,t=JSON.stringify({init:0,end:20}),r){let s="company="+this.cfg.company;return s+="&session="+e+"&limits="+t+"&filter="+JSON.stringify(r),this.post(this.cfg.urls.dataURL+"/getTransactionsHistory",s)}getOperationDetails(e,t){let r="company="+this.cfg.company;return r+="&session="+e+"&operation="+t,this.post(this.cfg.urls.dataURL+"/getOperationDetails",r)}getUserDetailsAsync(e){return s(this,void 0,void 0,function*(){var t;let r="company="+this.cfg.company;r+="&session="+e;try{t=yield n.post(this.cfg.urls.dataURL+"/getUserDetails",r,{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Access-Control-Allow-Origin":"*"}}).then(e=>(console.log("res = "+JSON.stringify(e)),void 0!==e.data)?e.data.user:e.user).catch(e=>{console.log("Error in post "+e)})}catch(e){console.log("err = "+e),t=void 0}return console.log("Calimaco: calimacoClient: getUserDetailsAsync: "+JSON.stringify(t)),t})}saveSearchResult(e){let t="company="+this.cfg.company;return t+="&search_result="+e,this.post(this.cfg.urls.contentsURL+"/saveSearchResult",t)}lastSearchResults(e){let t="company="+this.cfg.company;return t+="&limit="+e,this.post(this.cfg.urls.contentsURL+"/lastSearchResults",t)}search(e){let t="company="+this.cfg.company;return t+="&term="+e,this.post(this.cfg.urls.contentsURL+"/search",t)}getUserDetails(e){let t="company="+this.cfg.company;return t+="&session="+e,this.post(this.cfg.urls.dataURL+"/getUserDetails",t)}getDepositLobby(e){let t="company="+this.cfg.company;return t+="&session="+e,this.post(this.cfg.urls.contentsURL+"/getDepositLobby",t)}getPayoutLobby(e){let t="company="+this.cfg.company;return t+="&session="+e,this.post(this.cfg.urls.contentsURL+"/getPayoutLobby",t)}getDepositInfo(e,t){let r="company="+this.cfg.company;return r+="&hash="+t+"&session="+e,this.post(this.cfg.urls.paymentURL+"/depositInfo",r)}login(e,t){let r="company="+this.cfg.company+"&alias="+e+"&password="+encodeURIComponent(t),s=this.cfg.urls.authURL+"/login";return this.post(s,r)}activate(e,t){return console.log("Calling activate ..."),this.post(this.cfg.urls.authURL+"/activate","company="+this.cfg.company+"&user="+e+"&activation_code="+t)}register(e){let t="company="+this.cfg.company+"&user="+JSON.stringify(e).replace(/&/g,"<amp>");return this.post(this.cfg.urls.authURL+"/register",t)}deposit(e,t,r,s){let n="company="+this.cfg.company+"&session="+e+"&method="+t+"&amount="+r+"&site="+s;return this.post(this.cfg.urls.paymentURL+"/deposit",n)}autoexclude(e,t){let r="company="+this.cfg.company+"&session="+e+"&days="+t;return this.post(this.cfg.urls.dataURL+"/autoexclude",r)}payout(e,t,r,s,n,o){let i="company="+this.cfg.company+"&session="+e+"&method="+t+"&amount="+r+"&extra="+(void 0!==s?JSON.stringify(s):"");return void 0!==n&&n>0&&(i+="&shop="+n),void 0!==o&&o>0&&(i+="&payment_account="+o),this.post(this.cfg.urls.paymentURL+"/payout",i)}logout(e){return this.post(this.cfg.urls.authURL+"/logout","session="+e)}validateSession(e){return this.post(this.cfg.urls.dataURL+"/validateSession","session="+e)}getUserTickets(e,t=JSON.stringify({init:0,end:20})){let r="session="+e;return r+="&limits="+t,this.post(this.cfg.urls.dataURL+"/getUserTickets",r)}getUserTicketDetails(e,t){return this.post(this.cfg.urls.dataURL+"/getUserTicketDetails","session="+e+"&ticket="+t)}newUserTicket(e,t,r){return this.post(this.cfg.urls.dataURL+"/newUserTicket","session="+e+"&type="+t+"&content="+r)}newUserTicketMessage(e,t,r){return this.post(this.cfg.urls.dataURL+"/newUserTicketMessage","session="+e+"&ticket="+t+"&content="+r)}userTicketReaded(e,t){return this.post(this.cfg.urls.dataURL+"/userTicketReaded","session="+e+"&ticket="+t)}saveUserNavigation(e,t){return this.post(this.cfg.urls.dataURL+"/saveUserNavigation","session="+e+"&url="+t)}getUserFiles(e){return this.post(this.cfg.urls.dataURL+"/getUserFiles","session="+e)}getUserFile(e,t){return this.cfg.urls.dataURL+"/getUserFile?session="+e+"&file="+t}getPromotionsLobby(e){let t="company="+this.cfg.company+"&lobby="+e;return this.post(this.cfg.urls.contentsURL+"/getPromotionsLobby",t)}getTournamentsLobby(e){let t="company="+this.cfg.company+"&lobby="+e;return this.post(this.cfg.urls.contentsURL+"/getTournamentsLobby",t)}getBanners(e,t){let r="company="+this.cfg.company+"&container="+e+"&session="+t;return this.post(this.cfg.urls.contentsURL+"/getBanners",r)}getPendingPayouts(e){let t="company="+this.cfg.company+"&session="+e;return this.post(this.cfg.urls.dataURL+"/getPendingPayouts",t)}saveUserDetails(e,t){let r="company="+this.cfg.company+"&session="+e+"&user="+JSON.stringify(t);return this.post(this.cfg.urls.dataURL+"/saveUserDetails",r)}saveExtraAddress(e,t){let r="company="+this.cfg.company+"&session="+e+"&address="+JSON.stringify(t);return this.post(this.cfg.urls.dataURL+"/saveExtraAddress",r)}saveUserPersonalPreferences(e,t,r){let s="company="+this.cfg.company+"&session="+e+"&category="+t+"&preferences="+JSON.stringify(r);return this.post(this.cfg.urls.dataURL+"/saveUserPersonalPreferences",s)}getUserPersonalPreferences(e){let t="company="+this.cfg.company+"&session="+e;return this.post(this.cfg.urls.dataURL+"/getUserPersonalPreferences",t)}getUsersPersonalPreferences(){let e="company="+this.cfg.company;return this.post(this.cfg.urls.dataURL+"/getUsersPersonalPreferences",e)}deleteExtraAddress(e,t){let r="company="+this.cfg.company+"&session="+e+"&address="+JSON.stringify(t);return this.post(this.cfg.urls.dataURL+"/deleteExtraAddress",r)}cancelPayout(e,t){let r="company="+this.cfg.company+"&operation="+t+"&session="+e;return this.post(this.cfg.urls.dataURL+"/cancelPayout",r)}getWebFragment(e,t){let r="company="+this.cfg.company+"&fragment="+e+"&session="+t;return this.post(this.cfg.urls.contentsURL+"/getWebFragment",r)}getUserActivePromotions(e,t=JSON.stringify({init:0,end:20}),r=JSON.stringify({op_date_init:"",op_date_end:"",promotion:""})){let s="session="+e;return s+="&limits="+t+"&filter="+r,this.post(this.cfg.urls.dataURL+"/getUserActivePromotions",s)}getUserPendingPromotions(e,t=JSON.stringify({init:0,end:20}),r=JSON.stringify({op_date_init:"",op_date_end:"",promotion:""})){let s="session="+e;return s+="&limits="+t+"&filter="+r,this.post(this.cfg.urls.dataURL+"/getUserPendingPromotions",s)}getUserPromotionsHistory(e,t=JSON.stringify({init:0,end:20}),r=JSON.stringify({op_date_init:"",op_date_end:"",promotion:""})){let s="session="+e;return s+="&limits="+t+"&filter="+r,this.post(this.cfg.urls.dataURL+"/getUserPromotionsHistory",s)}uploadFile(e,t,r,s,n,o,i){var a=new FormData;return a.append("session",e),a.append("type",t),a.append("sub_type",o),a.append("side",i),console.log("calimaco: uploadFile: payment_account =  "+n),void 0!==n&&"undefined"!==n&&(console.log("calimaco: uploadFile: payment_account =  "+n+" added"),a.append("payment_account",n)),a.append("company",this.cfg.company),a.append("myFile",r,s),this.post(this.cfg.urls.dataURL+"/uploadFile",a)}getUserDepositLimits(e){return this.post(this.cfg.urls.dataURL+"/getUserDepositLimits","session="+e)}saveUserDepositLimits(e,t=JSON.stringify([{limit:"DAILY_DEPOSIT",value:1e5},{limit:"MONTHLY_DEPOSIT",value:5e5},{limit:"WEEKLY_DEPOSIT",value:5e5}])){let r="session="+e;return r+="&limits="+t,this.post(this.cfg.urls.dataURL+"/saveUserDepositLimits",r)}getUserPromotionsChoice(e){return this.post(this.cfg.urls.dataURL+"/getUserPromotionsChoice","session="+e)}saveUserPromotionChoice(e,t){return this.post(this.cfg.urls.dataURL+"/saveUserPromotionsChoice","session="+e+"&choice="+t)}getTournamentRanking(e,t=JSON.stringify({init:0,end:20})){let r="company="+this.cfg.company+"&tournament="+e+"&limits="+t;return this.post(this.cfg.urls.contentsURL+"/getTournamentRanking",r)}cancelUserPromotion(e,t){return this.post(this.cfg.urls.dataURL+"/cancelUserPromotion","session="+e+"&promotion="+t)}activateUserPromotion(e,t){return this.post(this.cfg.urls.dataURL+"/activateUserPromotion","session="+e+"&promotion="+t)}getTags(e){let t="company="+this.cfg.company+"&lobby="+e;return this.post(this.cfg.urls.contentsURL+"/getTags",t)}getProviders(){let e="company="+this.cfg.company;return this.post(this.cfg.urls.contentsURL+"/getProviders",e)}getProviderMachines(e){let t="company="+this.cfg.company+"&provider="+e;return this.post(this.cfg.urls.contentsURL+"/getProviderMachines",t)}resendActivationCode(e){let t="company="+this.cfg.company+"&email="+e;return this.post(this.cfg.urls.dataURL+"/resendActivationCode",t)}emailAvailable(e){let t="company="+this.cfg.company+"&email="+e;return this.post(this.cfg.urls.authURL+"/emailAvailable",t)}mobileAvailable(e){let t="company="+this.cfg.company+"&mobile="+e;return this.post(this.cfg.urls.authURL+"/mobileAvailable",t)}aliasAvailable(e){let t="company="+this.cfg.company+"&alias="+e;return this.post(this.cfg.urls.authURL+"/aliasAvailable",t)}nationalIDAvailable(e){let t="company="+this.cfg.company+"&nationalID="+e;return this.post(this.cfg.urls.authURL+"/nationalIDAvailable",t)}getFavourites(e){return this.post(this.cfg.urls.dataURL+"/getFavourites","session="+e)}addFavourite(e,t){return this.post(this.cfg.urls.dataURL+"/addFavourite","session="+e+"&machine="+t)}deleteFavourite(e,t){return this.post(this.cfg.urls.dataURL+"/deleteFavourite","session="+e+"&machine="+t)}createGamingSession(e,t,r){return this.post(this.cfg.urls.dataURL+"/createGamingSession","company="+this.cfg.company+"&session="+e+"&spent="+t+"&time="+r)}getGamingSession(e){return this.post(this.cfg.urls.dataURL+"/getGamingSession","company="+this.cfg.company+"&session="+e)}getProviderInfo(e,t){return this.post(this.cfg.urls.casinoURL+"/getProviderInfo","company="+this.cfg.company+"&provider="+e+"&session="+t)}getBannersByPrefix(e,t){return this.post(this.cfg.urls.contentsURL+"/getBannersByPrefix","company="+this.cfg.company+"&prefix="+e+"&session="+t)}getRedirection(e){return this.post(this.cfg.urls.contentsURL+"/getRedirection","company="+this.cfg.company+"&url="+e)}mobileCreateVerificationCode(e){return this.post(this.cfg.urls.authURL+"/mobileCreateVerificationCode","company="+this.cfg.company+"&mobile="+e)}getOpener(e,t,r){this.getProviderInfo(e,r).then(function(e){return{result:"OK",url:e.providerInfo.opener+"?session="+e.session+"&company="+e.company+"&external_id="+t}},function(e){return{result:"error",description:""+e}})}forgotPassword(e){return this.post(this.cfg.urls.authURL+"/forgotPassword","company="+this.cfg.company+"&email="+e)}updateForgotPassword(e,t,r){return this.post(this.cfg.urls.authURL+"/updateForgotPassword","company="+this.cfg.company+"&email="+e+"&password="+t+"&code="+r)}updatePassword(e,t,r){return this.post(this.cfg.urls.dataURL+"/updatePassword","company="+this.cfg.company+"&session="+e+"&old_password="+t+"&new_password="+r)}}},5373:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResultType=void 0,(r=t.SearchResultType||(t.SearchResultType={})).MACHINE="MACHINE",r.PROMOTION="PROMOTION"},30503:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(60348);t.default=class{constructor(e){this.chatId="",this.config=e}login(){console.log("this.props.config.user.session  = "+this.config.user.session);var e={type:"login",company:this.config.company,session:this.config.user.session};this.socket.emit("server",e)}disconnect(){this.socket.close()}connect(){this.socket=(0,s.io)(this.config.host,{path:this.config.path,transports:["websocket"],secure:!0}),this.socket.on("connect",()=>{console.log("Calimaco: NotificationClient connected"),this.login()}),this.socket.on("reconnect",()=>{console.log("Calimaco: NotificationClient reconnected"),this.login()}),this.socket.on("server",e=>{this.config.serverCallback}),this.socket.on("notification",e=>{this.config.notificationCallback(e.notification)}),this.socket.on("chat",e=>{void 0!==this.config.chatCallback&&this.config.chatCallback(e)}),this.socket.on("error",e=>{console.log("NotificationClient error = "+e)}),this.socket.on("disconnect",e=>{console.log("NotificationClient client disconnected"),"io server disconnect"===e?(console.log("NotificationClient server disconnected the client, trying to reconnect"),this.socket.connect()):console.log("NotificationClient trying to reconnect again with server")})}sendMessage(e){let t={type:"userMessage",user:this.config.user.user,chatId:this.chatId,msg:e};this.socket.emit("chat",t)}closeChat(){var e={type:"userExitChat",user:this.config.user.user,chatId:this.chatId};this.socket.emit("chat",e)}requestSupport(e){this.socket.emit("chat",{type:"requestSupport",extra:e})}updateStatus(e){console.log("Updating status to "+e),this.socket.emit("server",{type:"updateStatus",status:e})}}},16460:function(e,t){"use strict";var r,s,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.ChatStatus=t.ChatMessageType=t.ServerMessageResult=t.ServerMessageType=void 0,(r=t.ServerMessageType||(t.ServerMessageType={})).LOGIN="login",r.UPDATE_STATUS="updateStatus",(s=t.ServerMessageResult||(t.ServerMessageResult={})).OK="OK",s.ERROR="error",(n=t.ChatMessageType||(t.ChatMessageType={})).OPEN_CHAT_FROM_SUPPORT="openChatFromSupport",n.REQUEST_SUPPORT="requestSupport",n.USER_MESSAGE="userMessage",n.SUPPORT_EXIT_CHAT="supportExitChat",n.SUPPORT_MESSAGE="supportMessage",(o=t.ChatStatus||(t.ChatStatus={})).CALLING_SUPPORT="CALLING_SUPPORT",o.SUPPORT_BUSY="SUPPORT_BUSY",o.NO_ONLINE_SUPPORT="NO_ONLINE_SUPPORT"},90772:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(s.next(e))}catch(e){o(e)}}function rejected(e){try{step(s.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s,n,o,i,a=!1,c="iframe-calimaco",l,u="false",h="/login",d=!1){return r(this,void 0,void 0,function*(){var r=JSON.parse(localStorage.getItem("user"));if(localStorage.setItem("current_favourite",u),localStorage.setItem("current_machine",""+n),localStorage.setItem("current_provider",""+s),r||a){let e;let u=!0;if(d){if((e=yield t.getGamingSession(r.session)).gaming_session){let t=new CustomEvent("UPDATE_GAMING_SESSION",{detail:e.data});window.dispatchEvent(t),console.log("Notification UPDATE_GAMING_SESSION: dispatched")}else u=!1,window.dispatchEvent(new Event("noGamingSession"))}u&&(a?t.getProviderInfo(s):t.getProviderInfo(s,r.session)).then(function(e){console.log("calimaco: OpenMachine: Provider info = "+JSON.stringify(e)+" gaming_session_required = "+d);var t=e.providerInfo.opener+"?session="+e.session+"&company="+e.company+"&machine="+n+"&external_id="+o+"&type="+i+"&demo="+a+"&lang="+l;console.log("calimaco: OpenMachine: url = "+t);let r=document.getElementById("gamingSessionFrame");null!=r&&(d?r.classList.remove("clmc-hidden"):r.classList.add("clmc-hidden")),void 0!==document.getElementById(c)&&null!==document.getElementById(c)?(document.getElementById(c).src=t,document.getElementById("iframeArea").style.display="block",window.scroll({top:0,left:0,behavior:"smooth"})):window.open(t,"_blank").focus(),a?window.dispatchEvent(new Event("slotDemo")):window.dispatchEvent(new Event("openMachine"))},function(e){console.log("Error getting provider info = "+JSON.stringify(e))})}else localStorage.setItem("fromOpenMachine","true"),localStorage.setItem("provider",s),localStorage.setItem("machine",""+n),localStorage.setItem("external_id",o),localStorage.setItem("type",i),localStorage.setItem("gaming_session_required",""+d),e.push(h)})}},95367:function(e,t,r){"use strict";var s=r(62601),n=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(s.next(e))}catch(e){o(e)}}function rejected(e){try{step(s.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=o(r(34098));t.default=class{constructor(e){this.cfg=e,this.cookie_session="_cal_session"}validateSession(){return n(this,void 0,void 0,function*(){console.log("calimaco: SessionManager: validateSession: user: "+JSON.stringify(this.getUser()));let e=this.getUser();if(null==e)return!1;{let r;var t=new i.default(this.cfg);try{return console.log("calimaco: SessionManager: validateSession: validating: "+e.session),r=yield t.validateSession(e.session),console.log("calimaco: SessionManager: validateSession: validate: "+JSON.stringify(r)),"OK"===r.result}catch(e){return console.log("calimaco: SessionManager: validateSession: error: "+e),!1}}})}setCookie(e,t,r,s){let n=new Date;n.setTime(n.getTime()+864e5*r);let o="expires="+n.toUTCString();document.cookie=e+"="+t+";domain="+s+";"+o+";path=/"}getCookie(e){let t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let s=r[e];for(;" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""}setUser(e){if(void 0!==window.localStorage){if(void 0!==s.env.REACT_APP_DOMAIN&&null!==s.env.REACT_APP_DOMAIN)try{this.setCookie(this.cookie_session,e.session,7,s.env.REACT_APP_DOMAIN)}catch(e){console.error("Calimaco: SessionManager: setUser: setCookie error: "+e)}try{window.localStorage.setItem("user",JSON.stringify(e))}catch(e){console.error("Calimaco: SessionManager: setUser eroir: "+e)}}else console.error("Calimaco: SessionManager: setUser error:  No localStorage")}delete_cookie(e){document.cookie=e+"=; Path=/; Domain="+s.env.REACT_APP_DOMAIN+";Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}removeUser(){if(void 0!==window.localStorage?window.localStorage.removeItem("user"):console.error("Calimaco: SessionManager: removeUser: No localStorage"),void 0!==s.env.REACT_APP_DOMAIN)try{this.delete_cookie(this.cookie_session)}catch(e){console.error("Calimaco: SessionManager: removeUser: delete_coockie error: "+e)}}getUser(){if("undefined"!=typeof window&&void 0!==window.localStorage&&null!==window.localStorage){if(void 0!==window.localStorage.getItem("user")&&null!==window.localStorage.getItem("user"))try{let e=window.localStorage.getItem("user");if(null!==e)return JSON.parse(e);return}catch(e){console.error("Calimaco: SessionManager: getUser error: "+e),this.removeUser();return}else{console.info("Calimaco: SessionManager: getUser: No user");return}}else{console.error("Calimaco: SessionManager: No localStorage");return}}validateMultiDomain(){let e=this;return new Promise((function(t,r){if(void 0!==e.getCookie(e.cookie_session)){if(void 0!==e.getUser()&&null!==e.getUser()){if(e.getUser().session!==e.getCookie(e.cookie_session)){let r=new i.default(e.cfg);var s=r.getUserDetails(e.getCookie("_cal_session"));s.then(function(r){console.log("calimaco: validateMultiDomain: promiseGetUserDetails = "+JSON.stringify(r)),"OK"===r.result&&(console.log("calimaco: validateMultiDomain:  user: "+JSON.stringify(r.user)),r.user.session=e.getCookie("_cal_session"),e.setUser(r.user)),t(r.user)})}else t(e.getUser())}else{console.log("calimaco: validateMultiDomain: We have cookie but not data... ");let r=new i.default(e.cfg);var s=r.getUserDetails(e.getCookie(e.cookie_session));s.then(function(r){console.log("calimaco: validateMultiDomain: promiseGetUserDetails = "+JSON.stringify(r)),"OK"===r.result&&(console.log("calimaco: validateMultiDomain:  user: "+JSON.stringify(r.user)),r.user.session=e.getCookie("_cal_session"),e.setUser(r.user)),t(r.user)})}}else t({SessionManager:"anonymous",user:"anonymous"})}).bind(this))}fromOpenMachine(){return void 0===window.localStorage?(console.error("Calimaco: SessionManager: fromOpenMachine: No localStorage"),!1):void 0!==window.localStorage.getItem("fromOpenMachine")&&null!==window.localStorage.getItem("fromOpenMachine")&&(window.localStorage.removeItem("fromOpenMachine"),!0)}loadAccounts(){var e=new i.default(this.cfg);let t=this.getUser();var r=e.getUserAccounts(t.session);let s=this;r.then(function(e){s.cfg.currency,"OK"===e.result&&void 0!==t&&(t.accounts=e.accounts,s.setUser(t)),window.dispatchEvent(new Event("loadedAccounts"))},function(e){console.error("Calimaco: SessionManager: loadAccounts error: "+e),window.dispatchEvent(new Event("loadedAccountsError"))})}}},4461:function(e,t,r){let s;var n=r(62601);t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let s=0,n=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(s++,"%c"===e&&(n=s))}),t.splice(n,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG),e},t.useColors=function(){return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(s=!1,()=>{s||(s=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(84239)(t);let{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},84239:function(e,t,r){e.exports=function(e){function createDebug(e){let t,r,s;let n=null;function debug(...e){if(!debug.enabled)return;let r=Number(new Date),s=r-(t||r);debug.diff=s,debug.prev=t,debug.curr=r,t=r,e[0]=createDebug.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let n=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,r)=>{if("%%"===t)return"%";n++;let s=createDebug.formatters[r];if("function"==typeof s){let r=e[n];t=s.call(debug,r),e.splice(n,1),n--}return t}),createDebug.formatArgs.call(debug,e);let o=debug.log||createDebug.log;o.apply(debug,e)}return debug.namespace=e,debug.useColors=createDebug.useColors(),debug.color=createDebug.selectColor(e),debug.extend=extend,debug.destroy=createDebug.destroy,Object.defineProperty(debug,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==n?n:(r!==createDebug.namespaces&&(r=createDebug.namespaces,s=createDebug.enabled(e)),s),set:e=>{n=e}}),"function"==typeof createDebug.init&&createDebug.init(debug),debug}function extend(e,t){let r=createDebug(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function(e){return e instanceof Error?e.stack||e.message:e},createDebug.disable=function(){let e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(e=>"-"+e)].join(",");return createDebug.enable(""),e},createDebug.enable=function(e){let t;createDebug.save(e),createDebug.namespaces=e,createDebug.names=[],createDebug.skips=[];let r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(t=0;t<s;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?createDebug.skips.push(RegExp("^"+e.slice(1)+"$")):createDebug.names.push(RegExp("^"+e+"$")))},createDebug.enabled=function(e){let t,r;if("*"===e[e.length-1])return!0;for(t=0,r=createDebug.skips.length;t<r;t++)if(createDebug.skips[t].test(e))return!1;for(t=0,r=createDebug.names.length;t<r;t++)if(createDebug.names[t].test(e))return!0;return!1},createDebug.humanize=r(60438),createDebug.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(t=>{createDebug[t]=e[t]}),createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r)|0;return createDebug.colors[Math.abs(t)%createDebug.colors.length]},createDebug.enable(createDebug.load()),createDebug}},60438:function(e){function plural(e,t,r,s){return Math.round(e/r)+" "+s+(t>=1.5*r?"s":"")}e.exports=function(e,t){t=t||{};var r,s,n=typeof e;if("string"===n&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===n&&isFinite(e))return t.long?(r=Math.abs(e))>=864e5?plural(e,r,864e5,"day"):r>=36e5?plural(e,r,36e5,"hour"):r>=6e4?plural(e,r,6e4,"minute"):r>=1e3?plural(e,r,1e3,"second"):e+" ms":(s=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":s>=36e5?Math.round(e/36e5)+"h":s>=6e4?Math.round(e/6e4)+"m":s>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},62601:function(e,t,r){"use strict";var s,n;e.exports=(null==(s=r.g.process)?void 0:s.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(58960)},58960:function(e){!function(){var t={229:function(e){var t,r,s,n=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var o=[],i=!1,a=-1;function cleanUpNextTick(){i&&s&&(i=!1,s.length?o=s.concat(o):a=-1,o.length&&drainQueue())}function drainQueue(){if(!i){var e=runTimeout(cleanUpNextTick);i=!0;for(var t=o.length;t;){for(s=o,o=[];++a<t;)s&&s[a].run();a=-1,t=o.length}s=null,i=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}n.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new Item(e,t)),1!==o.length||i||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.prependListener=noop,n.prependOnceListener=noop,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function __nccwpck_require__(e){var s=r[e];if(void 0!==s)return s.exports;var n=r[e]={exports:{}},o=!0;try{t[e](n,n.exports,__nccwpck_require__),o=!1}finally{o&&delete r[e]}return n.exports}__nccwpck_require__.ab="//";var s=__nccwpck_require__(229);e.exports=s}()},55994:function(e,t,r){"use strict";var s,n,o,i=r(40263).Buffer;function bind(e,t){return function(){return e.apply(t,arguments)}}let{toString:a}=Object.prototype,{getPrototypeOf:c}=Object,l=(s=Object.create(null),e=>{let t=a.call(e);return s[t]||(s[t]=t.slice(8,-1).toLowerCase())}),kindOfTest=e=>(e=e.toLowerCase(),t=>l(t)===e),typeOfTest=e=>t=>typeof t===e,{isArray:u}=Array,h=typeOfTest("undefined"),d=kindOfTest("ArrayBuffer"),p=typeOfTest("string"),f=typeOfTest("function"),g=typeOfTest("number"),isObject=e=>null!==e&&"object"==typeof e,isPlainObject=e=>{if("object"!==l(e))return!1;let t=c(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},m=kindOfTest("Date"),y=kindOfTest("File"),b=kindOfTest("Blob"),v=kindOfTest("FileList"),w=kindOfTest("URLSearchParams");function forEach(e,t,{allOwnKeys:r=!1}={}){let s,n;if(null!=e){if("object"!=typeof e&&(e=[e]),u(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{let n;let o=r?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;for(s=0;s<i;s++)n=o[s],t.call(null,e[n],n,e)}}}function findKey(e,t){let r;t=t.toLowerCase();let s=Object.keys(e),n=s.length;for(;n-- >0;)if(t===(r=s[n]).toLowerCase())return r;return null}let k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,isContextDefined=e=>!h(e)&&e!==k,_=(n="undefined"!=typeof Uint8Array&&c(Uint8Array),e=>n&&e instanceof n),C=kindOfTest("HTMLFormElement"),E=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),S=kindOfTest("RegExp"),reduceDescriptors=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),s={};forEach(r,(r,n)=>{let o;!1!==(o=t(r,n,e))&&(s[n]=o||r)}),Object.defineProperties(e,s)},T="abcdefghijklmnopqrstuvwxyz",O="0123456789",R={DIGIT:O,ALPHA:T,ALPHA_DIGIT:T+T.toUpperCase()+O},P=kindOfTest("AsyncFunction");var A={isArray:u,isArrayBuffer:d,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&f(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||f(e.append)&&("formdata"===(t=l(e))||"object"===t&&f(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&d(e.buffer)},isString:p,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject,isPlainObject,isUndefined:h,isDate:m,isFile:y,isBlob:b,isRegExp:S,isFunction:f,isStream:e=>isObject(e)&&f(e.pipe),isURLSearchParams:w,isTypedArray:_,isFileList:v,forEach,merge:function merge(){let{caseless:e}=isContextDefined(this)&&this||{},t={},assignValue=(r,s)=>{let n=e&&findKey(t,s)||s;isPlainObject(t[n])&&isPlainObject(r)?t[n]=merge(t[n],r):isPlainObject(r)?t[n]=merge({},r):u(r)?t[n]=r.slice():t[n]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&forEach(arguments[e],assignValue);return t},extend:(e,t,r,{allOwnKeys:s}={})=>(forEach(t,(t,s)=>{r&&f(t)?e[s]=bind(t,r):e[s]=t},{allOwnKeys:s}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,s)=>{let n,o,i;let a={};if(t=t||{},null==e)return t;do{for(o=(n=Object.getOwnPropertyNames(e)).length;o-- >0;)i=n[o],(!s||s(i,e,t))&&!a[i]&&(t[i]=e[i],a[i]=!0);e=!1!==r&&c(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:l,kindOfTest,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let s=e.indexOf(t,r);return -1!==s&&s===r},toArray:e=>{if(!e)return null;if(u(e))return e;let t=e.length;if(!g(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{let r;let s=e&&e[Symbol.iterator],n=s.call(e);for(;(r=n.next())&&!r.done;){let s=r.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let r;let s=[];for(;null!==(r=e.exec(t));)s.push(r);return s},isHTMLForm:C,hasOwnProperty:E,hasOwnProp:E,reduceDescriptors,freezeMethods:e=>{reduceDescriptors(e,(t,r)=>{if(f(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;let s=e[r];if(f(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet:(e,t)=>{let r={};return(e=>{e.forEach(e=>{r[e]=!0})})(u(e)?e:String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey,global:k,isContextDefined,ALPHABET:R,generateString:(e=16,t=R.ALPHA_DIGIT)=>{let r="",{length:s}=t;for(;e--;)r+=t[Math.random()*s|0];return r},isSpecCompliantForm:function(e){return!!(e&&f(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),visit=(e,r)=>{if(isObject(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;let s=u(e)?[]:{};return forEach(e,(e,t)=>{let n=visit(e,r+1);h(n)||(s[t]=n)}),t[r]=void 0,s}}return e};return visit(e,0)},isAsyncFn:P,isThenable:e=>e&&(isObject(e)||f(e))&&f(e.then)&&f(e.catch)};function AxiosError(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n)}A.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let U=AxiosError.prototype,x={};function isVisitable(e){return A.isPlainObject(e)||A.isArray(e)}function removeBrackets(e){return A.endsWith(e,"[]")?e.slice(0,-2):e}function renderKey(e,t,r){return e?e.concat(t).map(function(e,t){return e=removeBrackets(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{x[e]={value:e}}),Object.defineProperties(AxiosError,x),Object.defineProperty(U,"isAxiosError",{value:!0}),AxiosError.from=(e,t,r,s,n,o)=>{let i=Object.create(U);return A.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),AxiosError.call(i,e.message,t,r,s,n),i.cause=e,i.name=e.name,o&&Object.assign(i,o),i};let L=A.toFlatObject(A,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(e,t,r){if(!A.isObject(e))throw TypeError("target must be an object");t=t||new FormData,r=A.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!A.isUndefined(t[e])});let s=r.metaTokens,n=r.visitor||defaultVisitor,o=r.dots,a=r.indexes,c=r.Blob||"undefined"!=typeof Blob&&Blob,l=c&&A.isSpecCompliantForm(t);if(!A.isFunction(n))throw TypeError("visitor must be a function");function convertValue(e){if(null===e)return"";if(A.isDate(e))return e.toISOString();if(!l&&A.isBlob(e))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(e)||A.isTypedArray(e)?l&&"function"==typeof Blob?new Blob([e]):i.from(e):e}function defaultVisitor(e,r,n){let i=e;if(e&&!n&&"object"==typeof e){if(A.endsWith(r,"{}"))r=s?r:r.slice(0,-2),e=JSON.stringify(e);else{var c;if(A.isArray(e)&&(c=e,A.isArray(c)&&!c.some(isVisitable))||(A.isFileList(e)||A.endsWith(r,"[]"))&&(i=A.toArray(e)))return r=removeBrackets(r),i.forEach(function(e,s){A.isUndefined(e)||null===e||t.append(!0===a?renderKey([r],s,o):null===a?r:r+"[]",convertValue(e))}),!1}}return!!isVisitable(e)||(t.append(renderKey(n,r,o),convertValue(e)),!1)}let u=[],h=Object.assign(L,{defaultVisitor,convertValue,isVisitable});if(!A.isObject(e))throw TypeError("data must be an object");return!function build(e,r){if(!A.isUndefined(e)){if(-1!==u.indexOf(e))throw Error("Circular reference detected in "+r.join("."));u.push(e),A.forEach(e,function(e,s){let o=!(A.isUndefined(e)||null===e)&&n.call(t,e,A.isString(s)?s.trim():s,r,h);!0===o&&build(e,r?r.concat(s):[s])}),u.pop()}}(e),t}function encode$1(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function AxiosURLSearchParams(e,t){this._pairs=[],e&&toFormData(e,this,t)}let N=AxiosURLSearchParams.prototype;function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(e,t,r){let s;if(!t)return e;let n=r&&r.encode||encode,o=r&&r.serialize;if(s=o?o(t,r):A.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,r).toString(n)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}N.append=function(e,t){this._pairs.push([e,t])},N.toString=function(e){let t=e?function(t){return e.call(this,t,encode$1)}:encode$1;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};var D=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){A.forEach(this.handlers,function(t){null!==t&&e(t)})}},j={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B="undefined"!=typeof URLSearchParams?URLSearchParams:AxiosURLSearchParams,F="undefined"!=typeof FormData?FormData:null,M="undefined"!=typeof Blob?Blob:null;let I="undefined"!=typeof window&&"undefined"!=typeof document,q=(o="undefined"!=typeof navigator&&navigator.product,I&&0>["ReactNative","NativeScript","NS"].indexOf(o)),H="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var V={...Object.freeze({__proto__:null,hasBrowserEnv:I,hasStandardBrowserWebWorkerEnv:H,hasStandardBrowserEnv:q}),isBrowser:!0,classes:{URLSearchParams:B,FormData:F,Blob:M},protocols:["http","https","file","blob","url","data"]};function formDataToJSON(e){if(A.isFormData(e)&&A.isFunction(e.entries)){let t={};return A.forEachEntry(e,(e,r)=>{!function buildPath(e,t,r,s){let n=e[s++];if("__proto__"===n)return!0;let o=Number.isFinite(+n),i=s>=e.length;if(n=!n&&A.isArray(r)?r.length:n,i)return A.hasOwnProp(r,n)?r[n]=[r[n],t]:r[n]=t,!o;r[n]&&A.isObject(r[n])||(r[n]=[]);let a=buildPath(e,t,r[n],s);return a&&A.isArray(r[n])&&(r[n]=function(e){let t,r;let s={},n=Object.keys(e),o=n.length;for(t=0;t<o;t++)s[r=n[t]]=e[r];return s}(r[n])),!o}(A.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),r,t,0)}),t}return null}let J={transitional:j,adapter:["xhr","http"],transformRequest:[function(e,t){let r;let s=t.getContentType()||"",n=s.indexOf("application/json")>-1,o=A.isObject(e);o&&A.isHTMLForm(e)&&(e=new FormData(e));let i=A.isFormData(e);if(i)return n?JSON.stringify(formDataToJSON(e)):e;if(A.isArrayBuffer(e)||A.isBuffer(e)||A.isStream(e)||A.isFile(e)||A.isBlob(e))return e;if(A.isArrayBufferView(e))return e.buffer;if(A.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1){var a,c;return(a=e,c=this.formSerializer,toFormData(a,new V.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,s){return V.isNode&&A.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},c))).toString()}if((r=A.isFileList(e))||s.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return toFormData(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||n?(t.setContentType("application/json",!1),function(e,t,r){if(A.isString(e))try{return(0,JSON.parse)(e),A.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||J.transitional,r=t&&t.forcedJSONParsing,s="json"===this.responseType;if(e&&A.isString(e)&&(r&&!this.responseType||s)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!r&&s){if("SyntaxError"===e.name)throw AxiosError.from(e,AxiosError.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:V.classes.FormData,Blob:V.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],e=>{J.headers[e]={}});let z=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=e=>{let t,r,s;let n={};return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),t=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!t||n[t]&&z[t]||("set-cookie"===t?n[t]?n[t].push(r):n[t]=[r]:n[t]=n[t]?n[t]+", "+r:r)}),n};let K=Symbol("internals");function normalizeHeader(e){return e&&String(e).trim().toLowerCase()}function normalizeValue(e){return!1===e||null==e?e:A.isArray(e)?e.map(normalizeValue):String(e)}let isValidHeaderName=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function matchHeaderValue(e,t,r,s,n){if(A.isFunction(s))return s.call(this,t,r);if(n&&(t=r),A.isString(t)){if(A.isString(s))return -1!==t.indexOf(s);if(A.isRegExp(s))return s.test(t)}}let AxiosHeaders=class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,t,r){let s=this;function setHeader(e,t,r){let n=normalizeHeader(t);if(!n)throw Error("header name must be a non-empty string");let o=A.findKey(s,n);o&&void 0!==s[o]&&!0!==r&&(void 0!==r||!1===s[o])||(s[o||t]=normalizeValue(e))}let setHeaders=(e,t)=>A.forEach(e,(e,r)=>setHeader(e,r,t));return A.isPlainObject(e)||e instanceof this.constructor?setHeaders(e,t):A.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?setHeaders(parseHeaders(e),t):null!=e&&setHeader(t,e,r),this}get(e,t){if(e=normalizeHeader(e)){let r=A.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t)return function(e){let t;let r=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=s.exec(e);)r[t[1]]=t[2];return r}(e);if(A.isFunction(t))return t.call(this,e,r);if(A.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=normalizeHeader(e)){let r=A.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||matchHeaderValue(this,this[r],r,t)))}return!1}delete(e,t){let r=this,s=!1;function deleteHeader(e){if(e=normalizeHeader(e)){let n=A.findKey(r,e);n&&(!t||matchHeaderValue(r,r[n],n,t))&&(delete r[n],s=!0)}}return A.isArray(e)?e.forEach(deleteHeader):deleteHeader(e),s}clear(e){let t=Object.keys(this),r=t.length,s=!1;for(;r--;){let n=t[r];(!e||matchHeaderValue(this,this[n],n,e,!0))&&(delete this[n],s=!0)}return s}normalize(e){let t=this,r={};return A.forEach(this,(s,n)=>{let o=A.findKey(r,n);if(o){t[o]=normalizeValue(s),delete t[n];return}let i=e?n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r):String(n).trim();i!==n&&delete t[n],t[i]=normalizeValue(s),r[i]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return A.forEach(this,(r,s)=>{null!=r&&!1!==r&&(t[s]=e&&A.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){let t=this[K]=this[K]={accessors:{}},r=t.accessors,s=this.prototype;function defineAccessor(e){let t=normalizeHeader(e);r[t]||(!function(e,t){let r=A.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(e,r,n){return this[s].call(this,t,e,r,n)},configurable:!0})})}(s,e),r[t]=!0)}return A.isArray(e)?e.forEach(defineAccessor):defineAccessor(e),this}};function transformData(e,t){let r=this||J,s=t||r,n=AxiosHeaders.from(s.headers),o=s.data;return A.forEach(e,function(e){o=e.call(r,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function isCancel(e){return!!(e&&e.__CANCEL__)}function CanceledError(e,t,r){AxiosError.call(this,null==e?"canceled":e,AxiosError.ERR_CANCELED,t,r),this.name="CanceledError"}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),A.reduceDescriptors(AxiosHeaders.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),A.freezeMethods(AxiosHeaders),A.inherits(CanceledError,AxiosError,{__CANCEL__:!0});var W=V.hasStandardBrowserEnv?{write(e,t,r,s,n,o){let i=[e+"="+encodeURIComponent(t)];A.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),A.isString(s)&&i.push("path="+s),A.isString(n)&&i.push("domain="+n),!0===o&&i.push("secure"),document.cookie=i.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function buildFullPath(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}var Y=V.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function resolveURL(e){let s=e;return t&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=resolveURL(window.location.href),function(t){let r=A.isString(t)?resolveURL(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0};function progressEventReducer(e,t){let r=0,s=function(e,t){let r;e=e||10;let s=Array(e),n=Array(e),o=0,i=0;return t=void 0!==t?t:1e3,function(a){let c=Date.now(),l=n[i];r||(r=c),s[o]=a,n[o]=c;let u=i,h=0;for(;u!==o;)h+=s[u++],u%=e;if((o=(o+1)%e)===i&&(i=(i+1)%e),c-r<t)return;let d=l&&c-l;return d?Math.round(1e3*h/d):void 0}}(50,250);return n=>{let o=n.loaded,i=n.lengthComputable?n.total:void 0,a=o-r,c=s(a),l=o<=i;r=o;let u={loaded:o,total:i,progress:i?o/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&l?(i-o)/c:void 0,event:n};u[t?"download":"upload"]=!0,e(u)}}let G="undefined"!=typeof XMLHttpRequest;var $=G&&function(e){return new Promise(function(t,r){let s,n,o=e.data,i=AxiosHeaders.from(e.headers).normalize(),{responseType:a,withXSRFToken:c}=e;function done(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(A.isFormData(o)){if(V.hasStandardBrowserEnv||V.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(n=i.getContentType())){let[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}}let l=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",r=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+r))}let u=buildFullPath(e.baseURL,e.url);function onloadend(){if(!l)return;let s=AxiosHeaders.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),n=a&&"text"!==a&&"json"!==a?l.response:l.responseText,o={data:n,status:l.status,statusText:l.statusText,headers:s,config:e,request:l};!function(e,t,r){let s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new AxiosError("Request failed with status code "+r.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}(function(e){t(e),done()},function(e){r(e),done()},o),l=null}if(l.open(e.method.toUpperCase(),buildURL(u,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=onloadend:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(onloadend)},l.onabort=function(){l&&(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,e,l)),l=null)},l.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",s=e.transitional||j;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new AxiosError(t,s.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,e,l)),l=null},V.hasStandardBrowserEnv&&(c&&A.isFunction(c)&&(c=c(e)),c||!1!==c&&Y(u))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&W.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===o&&i.setContentType(null),"setRequestHeader"in l&&A.forEach(i.toJSON(),function(e,t){l.setRequestHeader(t,e)}),A.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",progressEventReducer(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",progressEventReducer(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{l&&(r(!t||t.type?new CanceledError(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));let h=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(u);if(h&&-1===V.protocols.indexOf(h)){r(new AxiosError("Unsupported protocol "+h+":",AxiosError.ERR_BAD_REQUEST,e));return}l.send(o||null)})};let X={http:null,xhr:$};A.forEach(X,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let renderReason=e=>`- ${e}`,isResolvedHandle=e=>A.isFunction(e)||null===e||!1===e;var Q={getAdapter:e=>{let t,r;e=A.isArray(e)?e:[e];let{length:s}=e,n={};for(let o=0;o<s;o++){let s;if(r=t=e[o],!isResolvedHandle(t)&&void 0===(r=X[(s=String(t)).toLowerCase()]))throw new AxiosError(`Unknown adapter '${s}'`);if(r)break;n[s||"#"+o]=r}if(!r){let e=Object.entries(n).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")),t=s?e.length>1?"since :\n"+e.map(renderReason).join("\n"):" "+renderReason(e[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return r},adapters:X};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError(null,e)}function dispatchRequest(e){throwIfCancellationRequested(e),e.headers=AxiosHeaders.from(e.headers),e.data=transformData.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);let t=Q.getAdapter(e.adapter||J.adapter);return t(e).then(function(t){return throwIfCancellationRequested(e),t.data=transformData.call(e,e.transformResponse,t),t.headers=AxiosHeaders.from(t.headers),t},function(t){return!isCancel(t)&&(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData.call(e,e.transformResponse,t.response),t.response.headers=AxiosHeaders.from(t.response.headers))),Promise.reject(t)})}let headersToObject=e=>e instanceof AxiosHeaders?{...e}:e;function mergeConfig(e,t){t=t||{};let r={};function getMergedValue(e,t,r){return A.isPlainObject(e)&&A.isPlainObject(t)?A.merge.call({caseless:r},e,t):A.isPlainObject(t)?A.merge({},t):A.isArray(t)?t.slice():t}function mergeDeepProperties(e,t,r){return A.isUndefined(t)?A.isUndefined(e)?void 0:getMergedValue(void 0,e,r):getMergedValue(e,t,r)}function valueFromConfig2(e,t){if(!A.isUndefined(t))return getMergedValue(void 0,t)}function defaultToConfig2(e,t){return A.isUndefined(t)?A.isUndefined(e)?void 0:getMergedValue(void 0,e):getMergedValue(void 0,t)}function mergeDirectKeys(r,s,n){return n in t?getMergedValue(r,s):n in e?getMergedValue(void 0,r):void 0}let s={url:valueFromConfig2,method:valueFromConfig2,data:valueFromConfig2,baseURL:defaultToConfig2,transformRequest:defaultToConfig2,transformResponse:defaultToConfig2,paramsSerializer:defaultToConfig2,timeout:defaultToConfig2,timeoutMessage:defaultToConfig2,withCredentials:defaultToConfig2,withXSRFToken:defaultToConfig2,adapter:defaultToConfig2,responseType:defaultToConfig2,xsrfCookieName:defaultToConfig2,xsrfHeaderName:defaultToConfig2,onUploadProgress:defaultToConfig2,onDownloadProgress:defaultToConfig2,decompress:defaultToConfig2,maxContentLength:defaultToConfig2,maxBodyLength:defaultToConfig2,beforeRedirect:defaultToConfig2,transport:defaultToConfig2,httpAgent:defaultToConfig2,httpsAgent:defaultToConfig2,cancelToken:defaultToConfig2,socketPath:defaultToConfig2,responseEncoding:defaultToConfig2,validateStatus:mergeDirectKeys,headers:(e,t)=>mergeDeepProperties(headersToObject(e),headersToObject(t),!0)};return A.forEach(Object.keys(Object.assign({},e,t)),function(n){let o=s[n]||mergeDeepProperties,i=o(e[n],t[n],n);A.isUndefined(i)&&o!==mergeDirectKeys||(r[n]=i)}),r}let Z="1.6.8",ee={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ee[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let et={};ee.transitional=function(e,t,r){function formatMessage(e,t){return"[Axios v"+Z+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,s,n)=>{if(!1===e)throw new AxiosError(formatMessage(s," has been removed"+(t?" in "+t:"")),AxiosError.ERR_DEPRECATED);return t&&!et[s]&&(et[s]=!0,console.warn(formatMessage(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,s,n)}};var er={assertOptions:function(e,t,r){if("object"!=typeof e)throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);let s=Object.keys(e),n=s.length;for(;n-- >0;){let o=s[n],i=t[o];if(i){let t=e[o],r=void 0===t||i(t,o,e);if(!0!==r)throw new AxiosError("option "+o+" must be "+r,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new AxiosError("Unknown option "+o,AxiosError.ERR_BAD_OPTION)}},validators:ee};let es=er.validators;let Axios=class Axios{constructor(e){this.defaults=e,this.interceptors={request:new D,response:new D}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let r=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}throw e}}_request(e,t){let r,s;"string"==typeof e?(t=t||{}).url=e:t=e||{},t=mergeConfig(this.defaults,t);let{transitional:n,paramsSerializer:o,headers:i}=t;void 0!==n&&er.assertOptions(n,{silentJSONParsing:es.transitional(es.boolean),forcedJSONParsing:es.transitional(es.boolean),clarifyTimeoutError:es.transitional(es.boolean)},!1),null!=o&&(A.isFunction(o)?t.paramsSerializer={serialize:o}:er.assertOptions(o,{encode:es.function,serialize:es.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=i&&A.merge(i.common,i[t.method]);i&&A.forEach(["delete","get","head","post","put","patch","common"],e=>{delete i[e]}),t.headers=AxiosHeaders.concat(a,i);let c=[],l=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(l=l&&e.synchronous,c.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let h=0;if(!l){let e=[dispatchRequest.bind(this),void 0];for(e.unshift.apply(e,c),e.push.apply(e,u),s=e.length,r=Promise.resolve(t);h<s;)r=r.then(e[h++],e[h++]);return r}s=c.length;let d=t;for(h=0;h<s;){let e=c[h++],t=c[h++];try{d=e(d)}catch(e){t.call(this,e);break}}try{r=dispatchRequest.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,s=u.length;h<s;)r=r.then(u[h++],u[h++]);return r}getUri(e){e=mergeConfig(this.defaults,e);let t=buildFullPath(e.baseURL,e.url);return buildURL(t,e.params,e.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(t,r){return this.request(mergeConfig(r||{},{method:e,url:t,data:(r||{}).data}))}}),A.forEach(["post","put","patch"],function(e){function generateHTTPMethod(t){return function(r,s,n){return this.request(mergeConfig(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}Axios.prototype[e]=generateHTTPMethod(),Axios.prototype[e+"Form"]=generateHTTPMethod(!0)});let CancelToken=class CancelToken{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;let s=new Promise(e=>{r.subscribe(e),t=e}).then(e);return s.cancel=function(){r.unsubscribe(t)},s},e(function(e,s,n){r.reason||(r.reason=new CanceledError(e,s,n),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;let t=new CancelToken(function(t){e=t});return{token:t,cancel:e}}};let en={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(en).forEach(([e,t])=>{en[t]=e});let eo=function createInstance(e){let t=new Axios(e),r=bind(Axios.prototype.request,t);return A.extend(r,Axios.prototype,t,{allOwnKeys:!0}),A.extend(r,t,null,{allOwnKeys:!0}),r.create=function(t){return createInstance(mergeConfig(e,t))},r}(J);eo.Axios=Axios,eo.CanceledError=CanceledError,eo.CancelToken=CancelToken,eo.isCancel=isCancel,eo.VERSION=Z,eo.toFormData=toFormData,eo.AxiosError=AxiosError,eo.Cancel=eo.CanceledError,eo.all=function(e){return Promise.all(e)},eo.spread=function(e){return function(t){return e.apply(null,t)}},eo.isAxiosError=function(e){return A.isObject(e)&&!0===e.isAxiosError},eo.mergeConfig=mergeConfig,eo.AxiosHeaders=AxiosHeaders,eo.formToJSON=e=>formDataToJSON(A.isHTMLForm(e)?new FormData(e):e),eo.getAdapter=Q.getAdapter,eo.HttpStatusCode=en,eo.default=eo,e.exports=eo},94505:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasCORS=void 0;let r=!1;try{r="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}t.hasCORS=r},94244:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0,t.encode=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){let t={},r=e.split("&");for(let e=0,s=r.length;e<s;e++){let s=r[e].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}},39280:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;let r=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.parse=function(e){if(e.length>2e3)throw"URI too long";let t=e,n=e.indexOf("["),o=e.indexOf("]");-1!=n&&-1!=o&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));let i=r.exec(e||""),a={},c=14;for(;c--;)a[s[c]]=i[c]||"";return -1!=n&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){let r=t.replace(/\/{2,9}/g,"/").split("/");return("/"==t.slice(0,1)||0===t.length)&&r.splice(0,1),"/"==t.slice(-1)&&r.splice(r.length-1,1),r}(0,a.path),a.queryKey=function(e,t){let r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,s){t&&(r[t]=s)}),r}(0,a.query),a}},27484:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yeast=t.decode=t.encode=void 0;let r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s={},n=0,o=0,i;function encode(e){let t="";do t=r[e%64]+t,e=Math.floor(e/64);while(e>0);return t}for(t.encode=encode,t.decode=function(e){let t=0;for(o=0;o<e.length;o++)t=64*t+s[e.charAt(o)];return t},t.yeast=function(){let e=encode(+new Date);return e!==i?(n=0,i=e):e+"."+encode(n++)};o<64;o++)s[r[o]]=o},42681:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalThisShim=void 0,t.globalThisShim="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},9345:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextTick=t.parse=t.installTimerFunctions=t.transports=t.TransportError=t.Transport=t.protocol=t.Socket=void 0;let s=r(96386);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return s.Socket}}),t.protocol=s.Socket.protocol;var n=r(15540);Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return n.Transport}}),Object.defineProperty(t,"TransportError",{enumerable:!0,get:function(){return n.TransportError}});var o=r(60030);Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return o.transports}});var i=r(83214);Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return i.installTimerFunctions}});var a=r(39280);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return a.parse}});var c=r(81624);Object.defineProperty(t,"nextTick",{enumerable:!0,get:function(){return c.nextTick}})},96386:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;let n=r(60030),o=r(83214),i=r(94244),a=r(39280),c=s(r(4461)),l=r(89751),u=r(66664),h=r(81624),d=(0,c.default)("engine.io-client:socket");let Socket=class Socket extends l.Emitter{constructor(e,t={}){super(),this.binaryType=h.defaultBinaryType,this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=(0,a.parse)(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=(0,a.parse)(t.host).host),(0,o.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=(0,i.decode)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){d('creating transport "%s"',e);let t=Object.assign({},this.opts.query);t.EIO=u.protocol,t.transport=e,this.id&&(t.sid=this.id);let r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return d("options: %j",r),new n.transports[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Socket.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else if(0===this.transports.length){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(e){d("error while creating transport: %s",e),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){d("setting transport %s",e.name),this.transport&&(d("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",e=>this.onClose("transport close",e))}probe(e){d('probing transport "%s"',e);let t=this.createTransport(e),r=!1;Socket.priorWebsocketSuccess=!1;let onTransportOpen=()=>{r||(d('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",s=>{if(!r){if("pong"===s.type&&"probe"===s.data)d('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),t&&(Socket.priorWebsocketSuccess="websocket"===t.name,d('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{r||"closed"===this.readyState||(d("changing transport and sending upgrade packet"),cleanup(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}));else{d('probe transport "%s" failed',e);let r=Error("probe error");r.transport=t.name,this.emitReserved("upgradeError",r)}}}))};function freezeTransport(){r||(r=!0,cleanup(),t.close(),t=null)}let onerror=r=>{let s=Error("probe error: "+r);s.transport=t.name,freezeTransport(),d('probe transport "%s" failed because of error: %s',e,r),this.emitReserved("upgradeError",s)};function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(e){t&&e.name!==t.name&&(d('"%s" works - aborting "%s"',e.name,t.name),freezeTransport())}let cleanup=()=>{t.removeListener("open",onTransportOpen),t.removeListener("error",onerror),t.removeListener("close",onTransportClose),this.off("close",onclose),this.off("upgrading",onupgrade)};t.once("open",onTransportOpen),t.once("error",onerror),t.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onOpen(){if(d("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){d("starting upgrade probes");let e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(d('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let t=Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else d('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this.getWritablePackets();d("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){let e=this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1;if(!e)return this.writeBuffer;let t=1;for(let e=0;e<this.writeBuffer.length;e++){let r=this.writeBuffer[e].data;if(r&&(t+=(0,o.byteLength)(r)),e>0&&t>this.maxPayload)return d("only send %d out of %d packets",e,this.writeBuffer.length),this.writeBuffer.slice(0,e);t+=2}return d("payload size is %d (max: %d)",t,this.maxPayload),this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,s){if("function"==typeof t&&(s=t,t=void 0),"function"==typeof r&&(s=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;let n={type:e,data:t,options:r};this.emitReserved("packetCreate",n),this.writeBuffer.push(n),s&&this.once("flush",s),this.flush()}close(){let close=()=>{this.onClose("forced close"),d("socket closing - telling transport to close"),this.transport.close()},cleanupAndClose=()=>{this.off("upgrade",cleanupAndClose),this.off("upgradeError",cleanupAndClose),close()},waitForUpgrade=()=>{this.once("upgrade",cleanupAndClose),this.once("upgradeError",cleanupAndClose)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()),this}onError(e){d("socket error %j",e),Socket.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(d('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let t=[],r=0,s=e.length;for(;r<s;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}};t.Socket=Socket,Socket.protocol=u.protocol},15540:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=t.TransportError=void 0;let n=r(66664),o=r(89751),i=r(83214),a=s(r(4461)),c=r(94244),l=(0,a.default)("engine.io-client:transport");let TransportError=class TransportError extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}};t.TransportError=TransportError;let Transport=class Transport extends o.Emitter{constructor(e){super(),this.writable=!1,(0,i.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new TransportError(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):l("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=(0,n.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){let e=this.opts.hostname;return -1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){let t=(0,c.encode)(e);return t.length?"?"+t:""}};t.Transport=Transport},60030:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;let s=r(75377),n=r(53651),o=r(42225);t.transports={websocket:n.WS,webtransport:o.WT,polling:s.Polling}},75377:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.Polling=void 0;let n=r(15540),o=s(r(4461)),i=r(27484),a=r(66664),c=r(32057),l=r(89751),u=r(83214),h=r(42681),d=(0,o.default)("engine.io-client:polling");function empty(){}let p=function(){let e=new c.XHR({xdomain:!1});return null!=e.responseType}();let Polling=class Polling extends n.Transport{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){let t="https:"===location.protocol,r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port}let t=e&&e.forceBase64;this.supportsBinary=p&&!t,this.opts.withCredentials&&(this.cookieJar=(0,c.createCookieJar)())}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let pause=()=>{d("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(d("we are currently polling - waiting to pause"),e++,this.once("pollComplete",function(){d("pre-pause polling complete"),--e||pause()})),this.writable||(d("we are currently writing - waiting to pause"),e++,this.once("drain",function(){d("pre-pause writing complete"),--e||pause()}))}else pause()}poll(){d("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){d("polling got data %s",e),(0,a.decodePayload)(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this.poll():d('ignoring poll - transport state "%s"',this.readyState))}doClose(){let close=()=>{d("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(d("transport open - closing"),close()):(d("transport not open - deferring close"),this.once("open",close))}write(e){this.writable=!1,(0,a.encodePayload)(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,i.yeast)()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request(this.uri(),e)}doWrite(e,t){let r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){d("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}};t.Polling=Polling;let Request=class Request extends l.Emitter{constructor(e,t){super(),(0,u.installTimerFunctions)(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;let t=(0,u.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;let r=this.xhr=new c.XHR(t);try{d("xhr open %s: %s",this.method,this.uri),r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders)for(let e in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this.opts.extraHeaders[e])}catch(e){}if("POST"===this.method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{r.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(r)),4===r.readyState&&(200===r.status||1223===r.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof r.status?r.status:0)},0))},d("xhr data %s",this.data),r.send(this.data)}catch(e){this.setTimeoutFn(()=>{this.onError(e)},0);return}"undefined"!=typeof document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=empty,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Request.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(t.Request=Request,Request.requestsCount=0,Request.requests={},"undefined"!=typeof document){if("function"==typeof attachEvent)attachEvent("onunload",unloadHandler);else if("function"==typeof addEventListener){let e="onpagehide"in h.globalThisShim?"pagehide":"unload";addEventListener(e,unloadHandler,!1)}}function unloadHandler(){for(let e in Request.requests)Request.requests.hasOwnProperty(e)&&Request.requests[e].abort()}},81624:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBinaryType=t.usingBrowserWebSocket=t.WebSocket=t.nextTick=void 0;let s=r(42681);t.nextTick=(()=>{let e="function"==typeof Promise&&"function"==typeof Promise.resolve;return e?e=>Promise.resolve().then(e):(e,t)=>t(e,0)})(),t.WebSocket=s.globalThisShim.WebSocket||s.globalThisShim.MozWebSocket,t.usingBrowserWebSocket=!0,t.defaultBinaryType="arraybuffer"},53651:function(e,t,r){"use strict";var s=r(40263).Buffer,n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WS=void 0;let o=r(15540),i=r(27484),a=r(83214),c=r(81624),l=n(r(4461)),u=r(66664),h=(0,l.default)("engine.io-client:websocket"),d="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();let WS=class WS extends o.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),t=this.opts.protocols,r=d?{}:(0,a.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=c.usingBrowserWebSocket&&!d?t?new c.WebSocket(e,t):new c.WebSocket(e):new c.WebSocket(e,t,r)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],n=t===e.length-1;(0,u.encodePacket)(r,this.supportsBinary,e=>{let t={};if(!c.usingBrowserWebSocket&&(r.options&&(t.compress=r.options.compress),this.opts.perMessageDeflate)){let r="string"==typeof e?s.byteLength(e):e.length;r<this.opts.perMessageDeflate.threshold&&(t.compress=!1)}try{c.usingBrowserWebSocket?this.ws.send(e):this.ws.send(e,t)}catch(e){h("websocket closed before onclose event")}n&&(0,c.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=(0,i.yeast)()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!c.WebSocket}};t.WS=WS},42225:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WT=void 0;let n=r(15540),o=r(81624),i=r(66664),a=s(r(4461)),c=(0,a.default)("engine.io-client:webtransport");let WT=class WT extends n.Transport{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{c("transport closed gracefully"),this.onClose()}).catch(e=>{c("transport closed due to %s",e),this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let t=(0,i.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),s=(0,i.createPacketEncoderStream)();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();let read=()=>{r.read().then(({done:e,value:t})=>{if(e){c("session is closed");return}c("received chunk: %o",t),this.onPacket(t),read()}).catch(e=>{c("an error occurred while reading: %s",e)})};read();let n={type:"open"};this.query.sid&&(n.data=`{"sid":"${this.query.sid}"}`),this.writer.write(n).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let r=e[t],s=t===e.length-1;this.writer.write(r).then(()=>{s&&(0,o.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}};t.WT=WT},32057:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCookieJar=t.XHR=void 0;let s=r(94505),n=r(42681);t.XHR=function(e){let t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||s.hasCORS))return new XMLHttpRequest}catch(e){}if(!t)try{return new n.globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(e){}},t.createCookieJar=function(){}},83214:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteLength=t.installTimerFunctions=t.pick=void 0;let s=r(42681);t.pick=function(e,...t){return t.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})};let n=s.globalThisShim.setTimeout,o=s.globalThisShim.clearTimeout;t.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=n.bind(s.globalThisShim),e.clearTimeoutFn=o.bind(s.globalThisShim)):(e.setTimeoutFn=s.globalThisShim.setTimeout.bind(s.globalThisShim),e.clearTimeoutFn=s.globalThisShim.clearTimeout.bind(s.globalThisShim))},t.byteLength=function(e){return"string"==typeof e?function(e){let t=0,r=0;for(let s=0,n=e.length;s<n;s++)(t=e.charCodeAt(s))<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(s++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}},95961:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;let r=Object.create(null);t.PACKET_TYPES=r,r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";let s=Object.create(null);t.PACKET_TYPES_REVERSE=s,Object.keys(r).forEach(e=>{s[r[e]]=e}),t.ERROR_PACKET={type:"error",data:"parser error"}},98234:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<r.length;e++)s[r.charCodeAt(e)]=e;t.encode=e=>{let t=new Uint8Array(e),s,n=t.length,o="";for(s=0;s<n;s+=3)o+=r[t[s]>>2]+r[(3&t[s])<<4|t[s+1]>>4]+r[(15&t[s+1])<<2|t[s+2]>>6]+r[63&t[s+2]];return n%3==2?o=o.substring(0,o.length-1)+"=":n%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=e=>{let t=.75*e.length,r=e.length,n,o=0,i,a,c,l;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);let u=new ArrayBuffer(t),h=new Uint8Array(u);for(n=0;n<r;n+=4)i=s[e.charCodeAt(n)],a=s[e.charCodeAt(n+1)],c=s[e.charCodeAt(n+2)],l=s[e.charCodeAt(n+3)],h[o++]=i<<2|a>>4,h[o++]=(15&a)<<4|c>>2,h[o++]=(3&c)<<6|63&l;return u}},17802:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePacket=void 0;let s=r(95961),n=r(98234),o="function"==typeof ArrayBuffer;t.decodePacket=(e,t)=>{if("string"!=typeof e)return{type:"message",data:mapBinary(e,t)};let r=e.charAt(0);if("b"===r)return{type:"message",data:decodeBase64Packet(e.substring(1),t)};let n=s.PACKET_TYPES_REVERSE[r];return n?e.length>1?{type:s.PACKET_TYPES_REVERSE[r],data:e.substring(1)}:{type:s.PACKET_TYPES_REVERSE[r]}:s.ERROR_PACKET};let decodeBase64Packet=(e,t)=>{if(!o)return{base64:!0,data:e};{let r=(0,n.decode)(e);return mapBinary(r,t)}},mapBinary=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer},45078:function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.encodePacket=t.encodePacketToBinary=void 0;let n=r(95961),o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),i="function"==typeof ArrayBuffer,isView=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,encodePacket=({type:e,data:t},r,s)=>o&&t instanceof Blob?r?s(t):encodeBlobAsBase64(t,s):i&&(t instanceof ArrayBuffer||isView(t))?r?s(t):encodeBlobAsBase64(new Blob([t]),s):s(n.PACKET_TYPES[e]+(t||""));t.encodePacket=encodePacket;let encodeBlobAsBase64=(e,t)=>{let r=new FileReader;return r.onload=function(){let e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function toArray(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}t.encodePacketToBinary=function(e,t){return o&&e.data instanceof Blob?e.data.arrayBuffer().then(toArray).then(t):i&&(e.data instanceof ArrayBuffer||isView(e.data))?t(toArray(e.data)):void encodePacket(e,!1,e=>{s||(s=new TextEncoder),t(s.encode(e))})}},66664:function(e,t,r){"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=t.createPacketDecoderStream=t.createPacketEncoderStream=void 0;let n=r(45078);Object.defineProperty(t,"encodePacket",{enumerable:!0,get:function(){return n.encodePacket}});let o=r(17802);Object.defineProperty(t,"decodePacket",{enumerable:!0,get:function(){return o.decodePacket}});let i=r(95961);function totalLength(e){return e.reduce((e,t)=>e+t.length,0)}function concatChunks(e,t){if(e[0].length===t)return e.shift();let r=new Uint8Array(t),s=0;for(let n=0;n<t;n++)r[n]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),r}t.encodePayload=(e,t)=>{let r=e.length,s=Array(r),o=0;e.forEach((e,i)=>{(0,n.encodePacket)(e,!1,e=>{s[i]=e,++o===r&&t(s.join("\x1e"))})})},t.decodePayload=(e,t)=>{let r=e.split("\x1e"),s=[];for(let e=0;e<r.length;e++){let n=(0,o.decodePacket)(r[e],t);if(s.push(n),"error"===n.type)break}return s},t.createPacketEncoderStream=function(){return new TransformStream({transform(e,t){(0,n.encodePacketToBinary)(e,r=>{let s;let n=r.length;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);let e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{s=new Uint8Array(9);let e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!=typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})},t.createPacketDecoderStream=function(e,t){s||(s=new TextDecoder);let r=[],n=0,a=-1,c=!1;return new TransformStream({transform(l,u){for(r.push(l);;){if(0===n){if(1>totalLength(r))break;let e=concatChunks(r,1);c=(128&e[0])==128,n=(a=127&e[0])<126?3:126===a?1:2}else if(1===n){if(2>totalLength(r))break;let e=concatChunks(r,2);a=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(8>totalLength(r))break;let e=concatChunks(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),s=t.getUint32(0);if(s>2097151){u.enqueue(i.ERROR_PACKET);break}a=4294967296*s+t.getUint32(4),n=3}else{if(totalLength(r)<a)break;let e=concatChunks(r,a);u.enqueue((0,o.decodePacket)(c?e:s.decode(e),t)),n=0}if(0===a||a>e){u.enqueue(i.ERROR_PACKET);break}}}})},t.protocol=4},61933:function(e,t){"use strict";function Backoff(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Object.defineProperty(t,"__esModule",{value:!0}),t.Backoff=void 0,t.Backoff=Backoff,Backoff.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(1&Math.floor(10*t))==0?e-r:e+r}return 0|Math.min(e,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(e){this.ms=e},Backoff.prototype.setMax=function(e){this.max=e},Backoff.prototype.setJitter=function(e){this.jitter=e}},60348:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.connect=t.io=t.Socket=t.Manager=t.protocol=void 0;let n=r(42269),o=r(72096);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return o.Manager}});let i=r(34660);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return i.Socket}});let a=s(r(4461)),c=a.default("socket.io-client"),l={};function lookup(e,t){let r;"object"==typeof e&&(t=e,e=void 0),t=t||{};let s=n.url(e,t.path||"/socket.io"),i=s.source,a=s.id,u=s.path,h=l[a]&&u in l[a].nsps,d=t.forceNew||t["force new connection"]||!1===t.multiplex||h;return d?(c("ignoring socket cache for %s",i),r=new o.Manager(i,t)):(l[a]||(c("new io instance for %s",i),l[a]=new o.Manager(i,t)),r=l[a]),s.query&&!t.query&&(t.query=s.queryKey),r.socket(s.path,t)}t.io=lookup,t.connect=lookup,t.default=lookup,Object.assign(lookup,{Manager:o.Manager,Socket:i.Socket,io:lookup,connect:lookup});var u=r(25632);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return u.protocol}}),e.exports=lookup},72096:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return n(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;let a=r(9345),c=r(34660),l=o(r(25632)),u=r(7831),h=r(61933),d=r(89751),p=i(r(4461)),f=p.default("socket.io-client:manager");let Manager=class Manager extends d.Emitter{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,a.installTimerFunctions(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new h.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;let s=t.parser||l;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(f("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;f("opening %s",this.uri),this.engine=new a.Socket(this.uri,this.opts);let t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let s=u.on(t,"open",function(){r.onopen(),e&&e()}),onError=t=>{f("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},n=u.on(t,"error",onError);if(!1!==this._timeout){let e=this._timeout;f("connect attempt will timeout after %d",e);let r=this.setTimeoutFn(()=>{f("connect attempt timed out after %d",e),s(),onError(Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(s),this.subs.push(n),this}connect(e){return this.open(e)}onopen(){f("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(u.on(e,"ping",this.onping.bind(this)),u.on(e,"data",this.ondata.bind(this)),u.on(e,"error",this.onerror.bind(this)),u.on(e,"close",this.onclose.bind(this)),u.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){a.nextTick(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){f("error",e),this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new c.Socket(this,e,t),this.nsps[e]=r),r}_destroy(e){let t=Object.keys(this.nsps);for(let e of t){let t=this.nsps[e];if(t.active){f("socket %s is still active, skipping close",e);return}}this._close()}_packet(e){f("writing packet %j",e);let t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){f("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){f("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){f("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)f("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();f("will wait %dms before reconnect attempt",t),this._reconnecting=!0;let r=this.setTimeoutFn(()=>{!e.skipReconnect&&(f("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(f("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(f("reconnect success"),e.onreconnect())}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};t.Manager=Manager},7831:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,r){return e.on(t,r),function(){e.off(t,r)}}},34660:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;let n=r(25632),o=r(7831),i=r(89751),a=s(r(4461)),c=a.default("socket.io-client:socket"),l=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});let Socket=class Socket extends i.Emitter{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[o.on(e,"open",this.onopen.bind(this)),o.on(e,"packet",this.onpacket.bind(this)),o.on(e,"error",this.onerror.bind(this)),o.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(l.hasOwnProperty(e))throw Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;let r={type:n.PacketType.EVENT,data:t};if(r.options={},r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){let e=this.ids++;c("emitting packet with ack id %d",e);let s=t.pop();this._registerAckCallback(e,s),r.id=e}let s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable,o=this.flags.volatile&&(!s||!this.connected);return o?c("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r),this.flags={},this}_registerAckCallback(e,t){var r;let s=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===s){this.acks[e]=t;return}let n=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&(c("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(t,1));c("event with ack id %d has timed out after %d ms",e,s),t.call(this,Error("operation has timed out"))},s),fn=(...e)=>{this.io.clearTimeoutFn(n),t.apply(this,e)};fn.withError=!0,this.acks[e]=fn}emitWithAck(e,...t){return new Promise((r,s)=>{let fn=(e,t)=>e?s(e):r(t);fn.withError=!0,t.push(fn),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...s)=>{if(r!==this._queue[0])return;let n=null!==e;return n?r.tryCount>this._opts.retries&&(c("packet [%d] is discarded after %d tries",r.id,r.tryCount),this._queue.shift(),t&&t(e)):(c("packet [%d] was successfully sent",r.id),this._queue.shift(),t&&t(null,...s)),r.pending=!1,this._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(c("draining queue"),!this.connected||0===this._queue.length)return;let t=this._queue[0];if(t.pending&&!e){c("packet [%d] has already been sent and is waiting for an ack",t.id);return}t.pending=!0,t.tryCount++,c("sending packet [%d] (try n\xb0%d)",t.id,t.tryCount),this.flags=t.flags,this.emit.apply(this,t.args)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){c("transport is open - connecting"),"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:n.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){c("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{let t=this.sendBuffer.some(t=>String(t.id)===e);if(!t){let t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,Error("socket has been disconnected"))}})}onpacket(e){let t=e.nsp===this.nsp;if(t)switch(e.type){case n.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case n.PacketType.EVENT:case n.PacketType.BINARY_EVENT:this.onevent(e);break;case n.PacketType.ACK:case n.PacketType.BINARY_ACK:this.onack(e);break;case n.PacketType.DISCONNECT:this.ondisconnect();break;case n.PacketType.CONNECT_ERROR:this.destroy();let r=Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r)}}onevent(e){let t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){let t=this,r=!1;return function(...s){r||(r=!0,c("sending ack %j",s),t.packet({type:n.PacketType.ACK,id:e,data:s}))}}onack(e){let t=this.acks[e.id];if("function"!=typeof t){c("bad ack %s",e.id);return}delete this.acks[e.id],c("calling ack %s with %j",e.id,e.data),t.withError&&e.data.unshift(null),t.apply(this,e.data)}onconnect(e,t){c("socket connected with id %s",e),this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:n.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r]){t.splice(r,1);break}}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r]){t.splice(r,1);break}}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let r of t)r.apply(this,e.data)}}};t.Socket=Socket},42269:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;let n=r(9345),o=s(r(4461)),i=o.default("socket.io-client:url");t.url=function(e,t="",r){let s=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==r?r.protocol+"//"+e:"https://"+e),i("parse %s",e),s=n.parse(e)),!s.port&&(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";let o=-1!==s.host.indexOf(":"),a=o?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+a+":"+s.port+t,s.href=s.protocol+"://"+a+(r&&r.port===s.port?"":":"+s.port),s}},24291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;let s=r(27602);t.deconstructPacket=function(e){let t=[],r=e.data;return e.data=function _deconstructPacket(e,t){if(!e)return e;if((0,s.isBinary)(e)){let r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){let r=Array(e.length);for(let s=0;s<e.length;s++)r[s]=_deconstructPacket(e[s],t);return r}if("object"==typeof e&&!(e instanceof Date)){let r={};for(let s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=_deconstructPacket(e[s],t));return r}return e}(r,t),e.attachments=t.length,{packet:e,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function _reconstructPacket(e,t){if(!e)return e;if(e&&!0===e._placeholder){let r="number"==typeof e.num&&e.num>=0&&e.num<t.length;if(r)return t[e.num];throw Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=_reconstructPacket(e[r],t);else if("object"==typeof e)for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=_reconstructPacket(e[r],t));return e}(e.data,t),delete e.attachments,e}},25632:function(e,t,r){"use strict";var s,n;Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;let o=r(89751),i=r(24291),a=r(27602),c=r(4461),l=(0,c.default)("socket.io-parser"),u=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)}t.protocol=5,(n=s=t.PacketType||(t.PacketType={}))[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",t.Encoder=class{constructor(e){this.replacer=e}encode(e){return(l("encoding packet %j",e),(e.type===s.EVENT||e.type===s.ACK)&&(0,a.hasBinary)(e))?this.encodeAsBinary({type:e.type===s.EVENT?s.BINARY_EVENT:s.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===s.BINARY_EVENT||e.type===s.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),l("encoded %j as %s",e,t),t}encodeAsBinary(e){let t=(0,i.deconstructPacket)(e),r=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(r),s}};let Decoder=class Decoder extends o.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);let r=t.type===s.BINARY_EVENT;r||t.type===s.BINARY_ACK?(t.type=r?s.EVENT:s.ACK,this.reconstructor=new BinaryReconstructor(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if((0,a.isBinary)(e)||e.base64){if(this.reconstructor)(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw Error("got binary data when not reconstructing a packet")}else throw Error("Unknown type: "+e)}decodeString(e){let t=0,r={type:Number(e.charAt(0))};if(void 0===s[r.type])throw Error("unknown packet type "+r.type);if(r.type===s.BINARY_EVENT||r.type===s.BINARY_ACK){let s=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);let n=e.substring(s,t);if(n!=Number(n)||"-"!==e.charAt(t))throw Error("Illegal attachments");r.attachments=Number(n)}if("/"===e.charAt(t+1)){let s=t+1;for(;++t;){let r=e.charAt(t);if(","===r||t===e.length)break}r.nsp=e.substring(s,t)}else r.nsp="/";let n=e.charAt(t+1);if(""!==n&&Number(n)==n){let s=t+1;for(;++t;){let r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){let s=this.tryParse(e.substr(t));if(Decoder.isPayloadValid(r.type,s))r.data=s;else throw Error("invalid payload")}return l("decoded %s as %j",e,r),r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case s.CONNECT:return isObject(t);case s.DISCONNECT:return void 0===t;case s.CONNECT_ERROR:return"string"==typeof t||isObject(t);case s.EVENT:case s.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===u.indexOf(t[0]));case s.ACK:case s.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};t.Decoder=Decoder;let BinaryReconstructor=class BinaryReconstructor{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let e=(0,i.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},27602:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;let r="function"==typeof ArrayBuffer,isView=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,s=Object.prototype.toString,n="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),o="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);function isBinary(e){return r&&(e instanceof ArrayBuffer||isView(e))||n&&e instanceof Blob||o&&e instanceof File}t.isBinary=isBinary,t.hasBinary=function hasBinary(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(hasBinary(e[t]))return!0;return!1}if(isBinary(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1==arguments.length)return hasBinary(e.toJSON(),!0);for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&hasBinary(e[t]))return!0;return!1}},89751:function(e,t,r){"use strict";function Emitter(e){if(e)return function(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}(e)}r.r(t),r.d(t,{Emitter:function(){return Emitter}}),Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function on(){this.off(e,on),t.apply(this,arguments)}return on.fn=t,this.on(e,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,s=this._callbacks["$"+e];if(!s)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var n=0;n<s.length;n++)if((r=s[n])===t||r.fn===t){s.splice(n,1);break}return 0===s.length&&delete this._callbacks["$"+e],this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=Array(arguments.length-1),r=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,n=r.length;s<n;++s)r[s].apply(this,t)}return this},Emitter.prototype.emitReserved=Emitter.prototype.emit,Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length}}}]);